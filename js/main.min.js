function d(a,c){return parseInt(a?a:0)+parseInt(c)+"px"}var e=document.getElementById("trolley"),f=document.getElementById("gameplay"),g=document.getElementById("nd-stage"),h=!0,k=function(a,c){return function(b){return a.apply(null,c.concat(b))}}(function(a,c){a.style.left=d(a.style.left,c)},[e]);function l(a){var c,b=g;c=b.offsetLeft;b=b.offsetLeft+b.offsetWidth;a.style.left?0:a.style.left=0;parseInt(a.style.left)+c<b-a.offsetWidth-10&&k(20)}
(function(a){function c(a){a=a||event;b[a.keyCode||a.which]="keydown"==a.type}var b=[];setInterval(function(){b[32]&&b[37]?(m(),20<=parseInt(a.style.left)&&k(-20)):b[32]&&b[39]?(m(),l(a)):b[37]?20<=parseInt(a.style.left)&&k(-20):b[39]?l(a):b[32]&&m()},80);f.addEventListener("keydown",c);f.addEventListener("keyup",c)})(e);
setInterval(function(){var a=document.createElement("div");a.classList.add("target");g.insertBefore(a);setTimeout(function(){a.style.right="800px"},10);setTimeout(function(){a.remove()},3E3)},700);
function n(){var a=document.createElement("div"),c;a.classList.add("bullet");g.insertBefore(a);a.style.left=d(e.style.left,20);setTimeout(function(){a.style.top="400px"},1);setTimeout(function(){(c=q(a.style.left))?a.classList.add("explode"):(a.classList.add("too-far"),a.style.top="500px");setTimeout(function(){a.remove()},300)},510)}function r(){h=!h}function m(){h&&(n(),r(),setTimeout(r,200))}
function q(a){var c=Array.prototype.slice.call(document.getElementsByClassName("target"));a=parseInt(a);var b=!1;c.forEach(function(c){var p=c.offsetLeft;a>=p-10&&a<=p+50&&(c.classList.add("killed"),b=!0)});return b};