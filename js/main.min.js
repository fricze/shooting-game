(function(){function p(a){var b=Array.prototype.slice.call(document.getElementsByClassName("target"));a=f(a);var d=!1;b.forEach(function(b){var c=b.offsetLeft;a>=c-10&&a<=c+50&&(b.classList.add("killed"),d=!0)});return d}function h(){e&&(q(),l(),setTimeout(l,200))}function l(){e=!e}function q(){var a=m("bullet"),b;g.insertBefore(a);a.style.left=n(trolley.style.left,20);setTimeout(function(){a.style.top="400px"},1);setTimeout(function(){(b=p(a.style.left))?a.classList.add("explode"):(a.classList.add("too-far"),
a.style.top="500px");setTimeout(function(){a.remove()},300)},510)}function m(a){var b=document.createElement("div");b.classList.add(a);return b}function n(a,b){return f(a?a:0)+f(b)+"px"}function r(a,b){return function(d){return a.apply(null,b.concat(d))}}var f=function(a,b){return function(d){return a.apply(null,Array.prototype.reverse.call(b.concat(d)))}}(parseInt,[10]),g=document.getElementById("nd-stage"),e;e=!0;(function(a,b){function d(a){var b=g.offsetLeft,c=g.offsetLeft+g.offsetWidth;a.style.left?
0:a.style.left=0;f(a.style.left)+b<c-a.offsetWidth-10&&k(20)}function e(a){a=a||event;c[a.keyCode||a.which]="keydown"==a.type}var c=[],k=r(function(a,b){a.style.left=n(a.style.left,b)},[a]);setInterval(function(){c[32]&&c[37]?(h(),20<=f(a.style.left)&&k(-20)):c[32]&&c[39]?(h(),d(a)):c[37]?20<=f(a.style.left)&&k(-20):c[39]?d(a):c[32]&&h()},80);b.addEventListener("keydown",e);b.addEventListener("keyup",e)})(document.getElementById("trolley"),document.getElementById("gameplay"));setInterval(function(){var a=
m("target");g.insertBefore(a);setTimeout(function(){a.style.right="800px"},10);setTimeout(function(){a.remove()},3E3)},700)})();